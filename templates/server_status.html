{% extends "layout.html" %}
{% block body %}

<div class="page-header">
  <h1><i class="fa fa-fw fa-dashboard"></i> Server Status</h1>
</div>

<table id="tsort" class="table table-hover table-striped table-condensed table-responsive">
	<thead>
		<tr>
			<th class="tsdisable"></th>
			<th>Name</th>
			<th>Databases</th>
			<th>Load Average</th>
			<th class="sorter-metric" data-metric-name="B|byte">Disk Capacity</th>
			<th class="sorter-metric" data-metric-name="B|byte">Disk Usage</th>
			<th class="sorter-metric" data-metric-name="B|byte">Disk Free</th>
			<th>MySQL Uptime</th>
		</tr>
	</thead>
	<tbody class="rowclick-table">
		{% for row in rows %}
		{% if row.error %}
		<tr class="rowclick-tr danger" data-url="{{ row.link }}">
		{% else %}
		<tr class="rowclick-tr" data-url="{{ row.link }}">
		{% endif %}
		
			<td><a href="{{ row.link }}"><button type="button" class="btn btn-success btn-sm"><i class="fa fa-fw fa-eye"></i></button></a></td>
			<td class="rowclick-td">{{ row.shortname }}</td>
			<td class="rowclick-td">{{ row.databases }}</td>
			
			{% if row.error %}
				<td colspan="5" class="rowclick-td">{{ row.error }}</td>
			{% else %}
			
			<td class="rowclick-td">{{ row.load }}</td>
			<td class="rowclick-td">{{ row.disk_capacity|filesizeformat }}</td>
			<td class="rowclick-td">{{ row.disk_usage|filesizeformat }}</td>
			<td class="rowclick-td">{{ row.disk_free|filesizeformat }}</td>
			<td class="rowclick-td">{{ row.uptime }}</td>
			{% endif %}
		</tr>
		{% endfor %}
	</tbody>
</table>

{% endblock %}
